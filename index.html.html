<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InvestSA - Premium Investment Platform</title>
    <meta name="description" content="InvestSA offers guaranteed returns on fixed investment amounts from R50-R500. Start earning profits with our secure South African investment platform.">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --primary: #3b82f6;
            --secondary: #6366f1;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --dark: #1e293b;
            --light: #f8fafc;
            --border: rgba(255, 255, 255, 0.1);
            --glass-bg: rgba(255, 255, 255, 0.05);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0c0c0c 0%, #1a1a2e 25%, #16213e 50%, #0f3460 75%, #533483 100%);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .glass {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border);
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.37);
        }

        .gradient-text {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            color: white;
        }

        .btn {
            padding: 12px 24px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-outline {
            background: transparent;
            border: 1px solid var(--border);
            color: white;
        }

        .btn-success {
            background: var(--success);
            color: white;
        }

        .btn-warning {
            background: var(--warning);
            color: black;
        }

        .btn-danger {
            background: var(--danger);
            color: white;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 24px;
        }

        /* Header */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border);
            padding: 16px 0;
        }

        .nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
            color: white;
        }

        .logo h1 {
            font-size: 28px;
            font-weight: 800;
        }

        .nav-links {
            display: flex;
            gap: 32px;
            list-style: none;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .nav-links a:hover {
            color: var(--primary);
        }

        .auth-buttons {
            display: flex;
            gap: 16px;
            align-items: center;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        /* Main Content */
        .main {
            margin-top: 80px;
            min-height: calc(100vh - 80px);
        }

        .hero {
            text-align: center;
            padding: 80px 0;
        }

        .hero h1 {
            font-size: 3.5rem;
            font-weight: 900;
            margin-bottom: 24px;
            line-height: 1.1;
        }

        .hero p {
            font-size: 1.25rem;
            color: #cbd5e1;
            margin-bottom: 32px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Investment Plans Table */
        .plans-section {
            padding: 80px 0;
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 16px;
        }

        .section-subtitle {
            text-align: center;
            color: #cbd5e1;
            font-size: 1.125rem;
            margin-bottom: 48px;
        }

        .plans-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 48px;
        }

        .plans-table th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            text-align: left;
            font-weight: 700;
            font-size: 16px;
        }

        .plans-table th:last-child {
            text-align: center;
        }

        .plans-table td {
            padding: 24px 20px;
            border-bottom: 1px solid var(--border);
        }

        .plans-table tr:hover {
            background: rgba(255, 255, 255, 0.02);
        }

        .plans-table tr:nth-child(2) {
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.3);
        }

        .amount {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
        }

        .profit {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--success);
        }

        .admin-fee {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--danger);
        }

        .total-payment {
            font-size: 1.25rem;
            font-weight: 700;
            color: white;
        }

        /* Banking Details */
        .banking-section {
            padding: 80px 0;
        }

        .banking-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 32px;
            margin-top: 32px;
        }

        .banking-details {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .detail-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
        }

        .detail-label {
            color: #94a3b8;
            font-weight: 500;
        }

        .detail-value {
            font-weight: 700;
            font-size: 1.125rem;
        }

        .copy-btn {
            background: none;
            border: none;
            color: var(--primary);
            cursor: pointer;
            padding: 4px;
            border-radius: 4px;
        }

        .how-it-works {
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.3);
            border-radius: 12px;
            padding: 24px;
        }

        .how-it-works h4 {
            color: var(--primary);
            font-weight: 700;
            margin-bottom: 16px;
        }

        .how-it-works ol {
            color: #cbd5e1;
            padding-left: 20px;
        }

        .how-it-works li {
            margin-bottom: 8px;
        }

        /* Features Grid */
        .features-section {
            padding: 80px 0;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
        }

        .feature-card {
            text-align: center;
            padding: 32px;
            transition: transform 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-8px);
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 16px;
        }

        .feature-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .feature-value {
            font-size: 1.125rem;
            color: #94a3b8;
        }

        /* Login Form */
        .login-section {
            padding: 120px 0;
            text-align: center;
        }

        .login-card {
            max-width: 400px;
            margin: 0 auto;
            padding: 48px;
        }

        .login-icon {
            font-size: 4rem;
            color: var(--primary);
            margin-bottom: 24px;
        }

        .login-title {
            font-size: 2rem;
            font-weight: 800;
            margin-bottom: 16px;
        }

        .login-description {
            color: #cbd5e1;
            margin-bottom: 32px;
        }

        /* Auth States */
        .auth-required {
            display: none;
        }

        .auth-required.show {
            display: block;
        }

        .no-auth {
            display: block;
        }

        .no-auth.hide {
            display: none;
        }

        /* Payment Form */
        .payment-section {
            padding: 80px 0;
        }

        .payment-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 48px;
        }

        .form-group {
            margin-bottom: 24px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #cbd5e1;
        }

        .form-input {
            width: 100%;
            padding: 12px 16px;
            background: var(--glass-bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            color: white;
            font-size: 16px;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .checkbox-group {
            display: flex;
            align-items: flex-start;
            gap: 12px;
        }

        .checkbox {
            margin-top: 4px;
        }

        /* Dashboard */
        .dashboard-section {
            padding: 80px 0;
        }

        .dashboard-title {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 8px;
        }

        .dashboard-subtitle {
            color: #94a3b8;
            margin-bottom: 48px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
            margin-bottom: 48px;
        }

        .stat-card {
            padding: 32px;
        }

        .stat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .stat-title {
            font-weight: 600;
        }

        .stat-icon {
            font-size: 1.5rem;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 800;
            margin-bottom: 4px;
        }

        .stat-description {
            color: #94a3b8;
            font-size: 0.875rem;
        }

        /* Investment Cards */
        .investment-card {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 24px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            border: 1px solid var(--border);
            margin-bottom: 16px;
        }

        .investment-info h4 {
            font-weight: 700;
            margin-bottom: 4px;
        }

        .investment-date {
            color: #94a3b8;
            font-size: 0.875rem;
        }

        .investment-amounts {
            text-align: right;
        }

        .investment-amount {
            font-weight: 700;
            font-size: 1.125rem;
        }

        .investment-profit {
            color: var(--success);
            font-size: 0.875rem;
        }

        .investment-status {
            text-align: right;
            min-width: 120px;
        }

        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .status-pending {
            background: rgba(245, 158, 11, 0.2);
            color: #fbbf24;
        }

        .status-confirmed {
            background: rgba(59, 130, 246, 0.2);
            color: #60a5fa;
        }

        .status-completed {
            background: rgba(16, 185, 129, 0.2);
            color: #34d399;
        }

        /* Quick Actions */
        .actions-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            margin-top: 48px;
        }

        .action-card {
            padding: 32px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid rgba(59, 130, 246, 0.3);
        }

        .action-card:hover {
            transform: translateY(-4px);
            border-color: rgba(59, 130, 246, 0.5);
        }

        .action-icon {
            font-size: 3rem;
            margin-bottom: 16px;
        }

        .action-title {
            font-weight: 700;
            font-size: 1.125rem;
            margin-bottom: 8px;
        }

        .action-description {
            color: #94a3b8;
            font-size: 0.875rem;
        }

        /* Alerts */
        .alert {
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 24px;
            display: flex;
            align-items: flex-start;
            gap: 12px;
        }

        .alert-warning {
            background: rgba(245, 158, 11, 0.1);
            border: 1px solid rgba(245, 158, 11, 0.3);
            color: #fbbf24;
        }

        .alert-info {
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.3);
            color: #60a5fa;
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 48px 24px;
            color: #94a3b8;
        }

        .empty-icon {
            font-size: 4rem;
            opacity: 0.5;
            margin-bottom: 16px;
        }

        .empty-title {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .empty-description {
            font-size: 0.875rem;
            margin-bottom: 24px;
        }

        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .banking-grid,
            .payment-grid {
                grid-template-columns: 1fr;
            }
            
            .plans-table {
                font-size: 0.875rem;
            }
            
            .plans-table th,
            .plans-table td {
                padding: 12px 8px;
            }
            
            .amount,
            .profit {
                font-size: 1.25rem;
            }
            
            .investment-card {
                flex-direction: column;
                align-items: flex-start;
                gap: 16px;
            }
            
            .investment-amounts,
            .investment-status {
                text-align: left;
            }
        }

        /* Loading States */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 400px;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(255, 255, 255, 0.1);
            border-left: 4px solid var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Hide/Show utilities */
        .hidden {
            display: none !important;
        }

        .show {
            display: block !important;
        }

        /* Toast Notifications */
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--glass-bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 16px 20px;
            color: white;
            z-index: 1000;
            backdrop-filter: blur(10px);
            transform: translateX(100%);
            transition: transform 0.3s ease;
        }

        .toast.show {
            transform: translateX(0);
        }

        .toast-success {
            border-left: 4px solid var(--success);
        }

        .toast-error {
            border-left: 4px solid var(--danger);
        }

        .toast-warning {
            border-left: 4px solid var(--warning);
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="container">
            <div class="nav">
                <a href="#" class="logo" onclick="showSection('landing')">
                    <i class="fas fa-chart-line" style="font-size: 2rem; color: var(--primary);"></i>
                    <h1 class="gradient-text">InvestSA</h1>
                </a>
                
                <ul class="nav-links">
                    <li><a href="#" onclick="showSection('landing')">Home</a></li>
                    <li><a href="#" onclick="showSection('about')" class="no-auth">About</a></li>
                    <li><a href="#" onclick="showSection('dashboard')" class="auth-required">Dashboard</a></li>
                    <li><a href="#" onclick="showSection('contact')">Contact</a></li>
                </ul>
                
                <div class="auth-buttons">
                    <div class="no-auth">
                        <button class="btn gradient-bg" onclick="showSection('login')">
                            <i class="fas fa-sign-in-alt"></i>
                            Sign In
                        </button>
                    </div>
                    <div class="auth-required" style="display: none;">
                        <div class="user-info">
                            <i class="fas fa-user"></i>
                            <span id="username">User</span>
                        </div>
                        <button class="btn btn-outline" onclick="logout()">
                            <i class="fas fa-sign-out-alt"></i>
                            Logout
                        </button>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="main">
        <!-- Landing Page -->
        <section id="landing" class="no-auth">
            <!-- Hero Section -->
            <div class="hero">
                <div class="container">
                    <h1 class="gradient-text">
                        Invest Smart,<br>
                        <span style="color: white;">Grow Wealth</span>
                    </h1>
                    <p>Join thousands of South Africans building wealth through our premium investment platform with guaranteed returns and secure transactions.</p>
                    <div style="display: flex; gap: 16px; justify-content: center; flex-wrap: wrap;">
                        <button class="btn gradient-bg" onclick="document.getElementById('plans').scrollIntoView({behavior: 'smooth'})">
                            <i class="fas fa-rocket"></i>
                            View Investment Plans
                        </button>
                        <button class="btn btn-outline" onclick="showSection('about')">
                            <i class="fas fa-info-circle"></i>
                            Learn More
                        </button>
                    </div>
                </div>
            </div>

            <!-- Investment Plans -->
            <div id="plans" class="plans-section">
                <div class="container">
                    <h2 class="section-title gradient-text">INVESTMENT PLANS</h2>
                    <p class="section-subtitle">Choose your investment amount and start earning guaranteed profits</p>
                    
                    <div class="glass" style="overflow-x: auto;">
                        <table class="plans-table">
                            <thead>
                                <tr>
                                    <th>INVESTMENT</th>
                                    <th>PROFIT</th>
                                    <th>ADMIN FEE</th>
                                    <th>TOTAL PAYMENT</th>
                                    <th>ACTION</th>
                                </tr>
                            </thead>
                            <tbody id="plansTableBody">
                                <!-- Investment plans will be populated here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Banking Details -->
            <div class="banking-section">
                <div class="container">
                    <h2 class="section-title gradient-text">BANKING DETAILS</h2>
                    
                    <div class="glass">
                        <div style="padding: 32px;">
                            <div class="banking-grid">
                                <div class="banking-details">
                                    <div class="detail-row">
                                        <span class="detail-label">Bank Name</span>
                                        <span class="detail-value">Standard Bank</span>
                                    </div>
                                    
                                    <div class="detail-row">
                                        <span class="detail-label">Account Number</span>
                                        <div style="display: flex; align-items: center; gap: 8px;">
                                            <span class="detail-value" style="font-family: monospace;">10163419335</span>
                                            <button class="copy-btn" onclick="copyToClipboard('10163419335')">
                                                <i class="fas fa-copy"></i>
                                            </button>
                                        </div>
                                    </div>
                                    
                                    <div class="detail-row">
                                        <span class="detail-label">Reference</span>
                                        <span class="detail-value" style="color: var(--warning);">YOUR FULL NAME</span>
                                    </div>
                                </div>
                                
                                <div class="how-it-works">
                                    <h4><i class="fas fa-lightbulb"></i> How It Works:</h4>
                                    <ol>
                                        <li>Sign up to create your account</li>
                                        <li>Select your investment plan</li>
                                        <li>Complete payment details</li>
                                        <li>Transfer exact amount to our account</li>
                                        <li>Wait for admin confirmation</li>
                                        <li>Start earning profits!</li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Features -->
            <div class="features-section">
                <div class="container">
                    <div class="features-grid">
                        <div class="feature-card glass">
                            <div class="feature-icon" style="color: var(--primary);">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="feature-title">15,000+</div>
                            <div class="feature-value">Active Investors</div>
                        </div>
                        
                        <div class="feature-card glass">
                            <div class="feature-icon" style="color: var(--success);">
                                <i class="fas fa-dollar-sign"></i>
                            </div>
                            <div class="feature-title">R50M+</div>
                            <div class="feature-value">Total Invested</div>
                        </div>
                        
                        <div class="feature-card glass">
                            <div class="feature-icon" style="color: var(--warning);">
                                <i class="fas fa-chart-bar"></i>
                            </div>
                            <div class="feature-title">99.2%</div>
                            <div class="feature-value">Success Rate</div>
                        </div>
                        
                        <div class="feature-card glass">
                            <div class="feature-icon" style="color: #60a5fa;">
                                <i class="fas fa-award"></i>
                            </div>
                            <div class="feature-title">5+ Years</div>
                            <div class="feature-value">Experience</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Login Section -->
        <section id="login" class="login-section hidden">
            <div class="container">
                <div class="login-card glass">
                    <div class="login-icon">
                        <i class="fas fa-user-circle"></i>
                    </div>
                    <h2 class="login-title gradient-text">Welcome Back</h2>
                    <p class="login-description">Sign in to access your investment dashboard and start earning profits.</p>
                    
                    <form onsubmit="handleLogin(event)">
                        <div class="form-group">
                            <label class="form-label">Email Address</label>
                            <input type="email" class="form-input" required placeholder="your@email.com">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Password</label>
                            <input type="password" class="form-input" required placeholder="Enter your password">
                        </div>
                        <button type="submit" class="btn gradient-bg" style="width: 100%; font-size: 16px;">
                            <i class="fas fa-sign-in-alt"></i>
                            Sign In
                        </button>
                    </form>
                    
                    <div style="margin-top: 24px; text-align: center;">
                        <p style="color: #94a3b8;">Don't have an account? <a href="#" onclick="showRegisterForm()" style="color: var(--primary);">Sign up here</a></p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Investment Home (Authenticated) -->
        <section id="home" class="auth-required hidden">
            <!-- Welcome Section -->
            <div class="hero">
                <div class="container">
                    <h1 class="gradient-text">Welcome to InvestSA</h1>
                    <p>Select your investment plan below and start earning guaranteed returns today.</p>
                </div>
            </div>

            <!-- Investment Plans -->
            <div class="plans-section">
                <div class="container">
                    <h2 class="section-title gradient-text">INVESTMENT PLANS</h2>
                    <p class="section-subtitle">Choose your investment amount and start earning profits</p>
                    
                    <div class="glass" style="overflow-x: auto;">
                        <table class="plans-table">
                            <thead>
                                <tr>
                                    <th>INVESTMENT</th>
                                    <th>PROFIT</th>
                                    <th>ADMIN FEE</th>
                                    <th>TOTAL PAYMENT</th>
                                    <th>ACTION</th>
                                </tr>
                            </thead>
                            <tbody id="authPlansTableBody">
                                <!-- Investment plans will be populated here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Banking Details for Authenticated Users -->
            <div class="banking-section">
                <div class="container">
                    <h2 class="section-title gradient-text">BANKING DETAILS</h2>
                    
                    <div class="glass">
                        <div style="padding: 32px;">
                            <div class="banking-grid">
                                <div class="banking-details">
                                    <div class="detail-row">
                                        <span class="detail-label">Bank Name</span>
                                        <span class="detail-value">Standard Bank</span>
                                    </div>
                                    
                                    <div class="detail-row">
                                        <span class="detail-label">Account Number</span>
                                        <div style="display: flex; align-items: center; gap: 8px;">
                                            <span class="detail-value" style="font-family: monospace;">10163419335</span>
                                            <button class="copy-btn" onclick="copyToClipboard('10163419335')">
                                                <i class="fas fa-copy"></i>
                                            </button>
                                        </div>
                                    </div>
                                    
                                    <div class="detail-row">
                                        <span class="detail-label">Reference</span>
                                        <span class="detail-value" style="color: var(--warning);">YOUR FULL NAME</span>
                                    </div>
                                </div>
                                
                                <div class="how-it-works">
                                    <h4><i class="fas fa-lightbulb"></i> How It Works:</h4>
                                    <ol>
                                        <li>Select your investment plan above</li>
                                        <li>Complete payment details</li>
                                        <li>Transfer exact amount to our account</li>
                                        <li>Wait for admin confirmation</li>
                                        <li>Start earning profits!</li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Features -->
            <div class="features-section">
                <div class="container">
                    <div class="features-grid">
                        <div class="feature-card glass">
                            <div class="feature-icon" style="color: var(--primary);">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="feature-title">15,000+</div>
                            <div class="feature-value">Active Investors</div>
                        </div>
                        
                        <div class="feature-card glass">
                            <div class="feature-icon" style="color: var(--success);">
                                <i class="fas fa-dollar-sign"></i>
                            </div>
                            <div class="feature-title">R50M+</div>
                            <div class="feature-value">Total Invested</div>
                        </div>
                        
                        <div class="feature-card glass">
                            <div class="feature-icon" style="color: var(--warning);">
                                <i class="fas fa-chart-bar"></i>
                            </div>
                            <div class="feature-title">99.2%</div>
                            <div class="feature-value">Success Rate</div>
                        </div>
                        
                        <div class="feature-card glass">
                            <div class="feature-icon" style="color: #60a5fa;">
                                <i class="fas fa-award"></i>
                            </div>
                            <div class="feature-title">5+ Years</div>
                            <div class="feature-value">Experience</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Payment Section -->
        <section id="payment" class="payment-section auth-required hidden">
            <div class="container">
                <div style="margin-bottom: 32px;">
                    <button class="btn btn-outline" onclick="showSection('home')">
                        <i class="fas fa-arrow-left"></i>
                        Back to Investment Plans
                    </button>
                </div>
                
                <div class="payment-grid">
                    <!-- Payment Form -->
                    <div class="glass" style="padding: 32px;">
                        <h2 class="gradient-text" style="font-size: 2rem; margin-bottom: 24px;">Complete Your Investment</h2>
                        
                        <!-- Selected Investment Display -->
                        <div class="alert alert-info">
                            <i class="fas fa-info-circle"></i>
                            <div>
                                <div id="selectedInvestmentDetails">
                                    <strong>Investment Details:</strong><br>
                                    Amount: R<span id="investmentAmount">0</span><br>
                                    Profit: R<span id="investmentProfit">0</span><br>
                                    Admin Fee: R<span id="investmentAdminFee">10</span><br>
                                    <strong>Total Payment: R<span id="totalPayment">0</span></strong>
                                </div>
                            </div>
                        </div>
                        
                        <form onsubmit="handlePayment(event)">
                            <div class="form-group">
                                <label class="form-label">Full Name <span style="color: var(--danger);">*</span></label>
                                <input type="text" id="fullName" class="form-input" required placeholder="Enter your full name">
                                <small style="color: #94a3b8; font-size: 0.75rem;">This will be used as your payment reference</small>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Email Address <span style="color: var(--danger);">*</span></label>
                                <input type="email" id="email" class="form-input" required placeholder="your@email.com">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Phone Number <span style="color: var(--danger);">*</span></label>
                                <input type="tel" id="phone" class="form-input" required placeholder="+27 123 456 7890">
                            </div>
                            
                            <div class="alert alert-warning">
                                <i class="fas fa-exclamation-triangle"></i>
                                <div>
                                    <strong>Important Payment Instructions</strong><br>
                                    • Transfer exactly R<span id="totalPaymentInstruction">0</span> to our account<br>
                                    • Use your <strong>FULL NAME</strong> as the payment reference<br>
                                    • Screenshot your payment confirmation<br>
                                    • Allow 24-48 hours for admin verification
                                </div>
                            </div>
                            
                            <div class="checkbox-group">
                                <input type="checkbox" id="terms" class="checkbox" required>
                                <label for="terms" style="color: #cbd5e1; font-size: 0.875rem;">
                                    I confirm payment details are correct and agree to terms
                                </label>
                            </div>
                            
                            <button type="submit" class="btn gradient-bg" style="width: 100%; padding: 16px; font-size: 16px; margin-top: 24px;">
                                <i class="fas fa-lock"></i>
                                Submit Payment Details
                            </button>
                        </form>
                    </div>
                    
                    <!-- Banking Details -->
                    <div>
                        <div class="glass" style="padding: 32px; margin-bottom: 24px;">
                            <h3 style="display: flex; align-items: center; gap: 12px; margin-bottom: 24px;">
                                <i class="fas fa-university" style="color: var(--primary);"></i>
                                Banking Details
                            </h3>
                            
                            <div style="display: flex; flex-direction: column; gap: 16px;">
                                <div class="detail-row">
                                    <span class="detail-label">Bank Name</span>
                                    <span class="detail-value">Standard Bank</span>
                                </div>
                                
                                <div class="detail-row">
                                    <span class="detail-label">Account Number</span>
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <span class="detail-value" style="font-family: monospace;">10163419335</span>
                                        <button class="copy-btn" onclick="copyToClipboard('10163419335')">
                                            <i class="fas fa-copy"></i>
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="detail-row">
                                    <span class="detail-label">Account Type</span>
                                    <span class="detail-value">Current Account</span>
                                </div>
                                
                                <div class="detail-row">
                                    <span class="detail-label">Reference</span>
                                    <span class="detail-value" style="color: var(--warning);">YOUR FULL NAME</span>
                                </div>
                                
                                <div class="detail-row" style="background: rgba(245, 158, 11, 0.2); border: 1px solid rgba(245, 158, 11, 0.3);">
                                    <span class="detail-label">Amount to Transfer</span>
                                    <span class="detail-value" style="font-size: 1.5rem; color: var(--warning);">R<span id="transferAmount">0</span></span>
                                </div>
                            </div>
                            
                            <div class="how-it-works" style="margin-top: 24px;">
                                <h4><i class="fas fa-list-ol"></i> Payment Steps:</h4>
                                <ol>
                                    <li>Transfer R<span id="stepAmount">0</span> to account above</li>
                                    <li>Use your full name as reference</li>
                                    <li>Screenshot the payment confirmation</li>
                                    <li>Submit the form to register payment</li>
                                    <li>Wait for admin confirmation</li>
                                </ol>
                            </div>
                        </div>
                        
                        <!-- Security Assurance -->
                        <div class="glass" style="padding: 24px; margin-bottom: 24px;">
                            <h4 style="display: flex; align-items: center; gap: 8px; margin-bottom: 16px;">
                                <i class="fas fa-shield-alt" style="color: var(--success);"></i>
                                Security & Trust
                            </h4>
                            <div style="display: flex; flex-direction: column; gap: 12px; font-size: 0.875rem; color: #cbd5e1;">
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div style="width: 8px; height: 8px; background: var(--success); border-radius: 50%;"></div>
                                    Secure Payment Processing
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div style="width: 8px; height: 8px; background: var(--success); border-radius: 50%;"></div>
                                    Regulated Investment Platform
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div style="width: 8px; height: 8px; background: var(--success); border-radius: 50%;"></div>
                                    24/7 Customer Support
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div style="width: 8px; height: 8px; background: var(--success); border-radius: 50%;"></div>
                                    Guaranteed Returns
                                </div>
                            </div>
                        </div>
                        
                        <!-- Contact Support -->
                        <div class="glass" style="padding: 24px;">
                            <h4 style="display: flex; align-items: center; gap: 8px; margin-bottom: 16px;">
                                <i class="fas fa-headphones" style="color: var(--primary);"></i>
                                Need Help?
                            </h4>
                            <div style="display: flex; flex-direction: column; gap: 8px; font-size: 0.875rem;">
                                <div style="display: flex; align-items: center; gap: 8px; color: #cbd5e1;">
                                    <i class="fas fa-phone" style="color: var(--primary);"></i>
                                    +27 11 123 4567
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px; color: #cbd5e1;">
                                    <i class="fas fa-envelope" style="color: var(--primary);"></i>
                                    support@investsa.co.za
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px; color: #cbd5e1;">
                                    <i class="fab fa-whatsapp" style="color: var(--success);"></i>
                                    WhatsApp Support
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Success Section -->
        <section id="success" class="auth-required hidden">
            <div style="padding: 80px 0; text-align: center;">
                <div class="container">
                    <div class="glass" style="max-width: 800px; margin: 0 auto; padding: 48px;">
                        <div style="margin-bottom: 32px;">
                            <i class="fas fa-check-circle" style="font-size: 5rem; color: var(--success); margin-bottom: 24px;"></i>
                            <h2 style="font-size: 2.5rem; font-weight: 800; margin-bottom: 16px;" class="gradient-text">Payment Details Submitted!</h2>
                            <p style="font-size: 1.125rem; color: #cbd5e1;">Your investment has been registered. Please complete the payment to activate it.</p>
                        </div>
                        
                        <!-- Investment Summary -->
                        <div class="alert alert-info" style="text-align: left; margin-bottom: 32px;">
                            <i class="fas fa-chart-line"></i>
                            <div>
                                <h3 style="font-weight: 700; color: var(--primary); margin-bottom: 16px;">Investment Summary</h3>
                                <div id="successInvestmentDetails">
                                    <!-- Will be populated by JavaScript -->
                                </div>
                            </div>
                        </div>

                        <!-- Banking Details -->
                        <div class="alert alert-warning" style="text-align: left; margin-bottom: 32px;">
                            <i class="fas fa-university"></i>
                            <div>
                                <h3 style="font-weight: 700; color: var(--warning); margin-bottom: 16px;">Complete Your Payment Now</h3>
                                <div id="successBankingDetails">
                                    <!-- Will be populated by JavaScript -->
                                </div>
                            </div>
                        </div>
                        
                        <!-- Next Steps -->
                        <div class="how-it-works" style="text-align: left; margin-bottom: 32px;">
                            <h3 style="font-weight: 700; color: var(--primary); margin-bottom: 16px;">What happens next?</h3>
                            <div style="display: flex; flex-direction: column; gap: 16px;">
                                <div style="display: flex; align-items: flex-start; gap: 12px;">
                                    <div style="width: 24px; height: 24px; border-radius: 50%; background: var(--warning); color: black; font-weight: 700; font-size: 0.875rem; display: flex; align-items: center; justify-content: center; margin-top: 2px;">1</div>
                                    <div>
                                        <div style="font-weight: 600;">Transfer Payment</div>
                                        <div style="color: #94a3b8; font-size: 0.875rem;">Transfer the exact amount to our Standard Bank account using the details above</div>
                                    </div>
                                </div>
                                <div style="display: flex; align-items: flex-start; gap: 12px;">
                                    <div style="width: 24px; height: 24px; border-radius: 50%; background: var(--primary); color: white; font-weight: 700; font-size: 0.875rem; display: flex; align-items: center; justify-content: center; margin-top: 2px;">2</div>
                                    <div>
                                        <div style="font-weight: 600;">Admin Verification</div>
                                        <div style="color: #94a3b8; font-size: 0.875rem;">Our team will verify your payment within 24-48 hours</div>
                                    </div>
                                </div>
                                <div style="display: flex; align-items: flex-start; gap: 12px;">
                                    <div style="width: 24px; height: 24px; border-radius: 50%; background: var(--success); color: white; font-weight: 700; font-size: 0.875rem; display: flex; align-items: center; justify-content: center; margin-top: 2px;">3</div>
                                    <div>
                                        <div style="font-weight: 600;">Investment Activation</div>
                                        <div style="color: #94a3b8; font-size: 0.875rem;">Your investment will be activated and start earning profits</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div style="display: flex; flex-direction: column; gap: 16px;">
                            <button class="btn gradient-bg" onclick="showSection('dashboard')" style="padding: 16px; font-size: 16px;">
                                <i class="fas fa-chart-bar"></i>
                                View Dashboard
                            </button>
                            <button class="btn btn-outline" onclick="showSection('home')" style="padding: 16px; font-size: 16px;">
                                <i class="fas fa-home"></i>
                                Make Another Investment
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Dashboard Section -->
        <section id="dashboard" class="dashboard-section auth-required hidden">
            <div class="container">
                <div style="margin-bottom: 48px;">
                    <h2 class="dashboard-title gradient-text">Investment Dashboard</h2>
                    <p class="dashboard-subtitle">Track your investments and earnings</p>
                </div>
                
                <!-- Balance Overview -->
                <div class="stats-grid">
                    <div class="stat-card glass">
                        <div class="stat-header">
                            <h3 class="stat-title">Available Balance</h3>
                            <i class="fas fa-wallet stat-icon" style="color: var(--success);"></i>
                        </div>
                        <div class="stat-value" style="color: var(--success);">R<span id="totalBalance">0</span></div>
                        <div class="stat-description">Ready for withdrawal</div>
                    </div>
                    
                    <div class="stat-card glass">
                        <div class="stat-header">
                            <h3 class="stat-title">Total Invested</h3>
                            <i class="fas fa-chart-pie stat-icon" style="color: var(--primary);"></i>
                        </div>
                        <div class="stat-value" style="color: var(--primary);">R<span id="totalInvested">0</span></div>
                        <div class="stat-description">Active investments</div>
                    </div>
                    
                    <div class="stat-card glass">
                        <div class="stat-header">
                            <h3 class="stat-title">Total Profits</h3>
                            <i class="fas fa-trophy stat-icon" style="color: var(--warning);"></i>
                        </div>
                        <div class="stat-value" style="color: var(--warning);">R<span id="totalProfit">0</span></div>
                        <div class="stat-description">Lifetime earnings</div>
                    </div>
                </div>
                
                <!-- Investment History -->
                <div class="glass" style="margin-bottom: 48px;">
                    <div style="padding: 32px;">
                        <h3 style="font-size: 1.5rem; font-weight: 800; margin-bottom: 24px;">Your Investments</h3>
                        <div id="investmentsList">
                            <!-- Will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
                
                <!-- Quick Actions -->
                <div class="actions-grid">
                    <div class="action-card glass" onclick="showSection('home')">
                        <div class="action-icon" style="color: var(--primary);">
                            <i class="fas fa-plus"></i>
                        </div>
                        <h4 class="action-title">New Investment</h4>
                        <p class="action-description">Choose a plan and start earning</p>
                    </div>
                    
                    <div class="action-card glass" style="opacity: 0.6;">
                        <div class="action-icon" style="color: var(--success);">
                            <i class="fas fa-dollar-sign"></i>
                        </div>
                        <h4 class="action-title">Withdraw Funds</h4>
                        <p class="action-description">Coming soon - contact support</p>
                    </div>
                </div>

                <!-- Pending Payment Notice -->
                <div id="pendingPaymentNotice" class="hidden" style="margin-top: 32px;">
                    <div class="alert alert-warning">
                        <i class="fas fa-clock"></i>
                        <div>
                            <h4 style="font-weight: 700; color: var(--warning); margin-bottom: 4px;">Pending Payments</h4>
                            <p style="color: #cbd5e1; font-size: 0.875rem;">
                                You have pending investment(s) waiting for payment confirmation. 
                                Please ensure you've transferred the exact amounts to our Standard Bank account (10163419335) 
                                using your full name as reference.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="hidden">
            <div style="padding: 80px 0;">
                <div class="container">
                    <div class="glass" style="padding: 48px;">
                        <h2 style="font-size: 2.5rem; font-weight: 800; margin-bottom: 24px;" class="gradient-text">About InvestSA</h2>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 48px; margin-bottom: 48px;">
                            <div>
                                <h3 style="font-size: 1.5rem; font-weight: 700; margin-bottom: 16px;">Our Mission</h3>
                                <p style="color: #cbd5e1; line-height: 1.6;">
                                    InvestSA is dedicated to empowering South Africans with accessible, secure, and profitable investment opportunities. 
                                    We provide guaranteed returns on fixed investment amounts, making wealth building simple and straightforward.
                                </p>
                            </div>
                            
                            <div>
                                <h3 style="font-size: 1.5rem; font-weight: 700; margin-bottom: 16px;">Why Choose Us</h3>
                                <ul style="color: #cbd5e1; line-height: 1.6; padding-left: 20px;">
                                    <li>Guaranteed returns on all investments</li>
                                    <li>Fixed, transparent pricing</li>
                                    <li>Secure banking integration</li>
                                    <li>Professional customer support</li>
                                    <li>5+ years of proven track record</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div style="background: rgba(59, 130, 246, 0.1); border: 1px solid rgba(59, 130, 246, 0.3); border-radius: 12px; padding: 32px;">
                            <h3 style="font-size: 1.5rem; font-weight: 700; margin-bottom: 16px; color: var(--primary);">Investment Plans</h3>
                            <p style="color: #cbd5e1; line-height: 1.6; margin-bottom: 24px;">
                                We offer six fixed investment plans ranging from R50 to R500, each with guaranteed profit returns. 
                                All plans include a R10 admin fee and are processed through our secure Standard Bank integration.
                            </p>
                            
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 16px;">
                                <div style="text-align: center; padding: 16px; background: rgba(255, 255, 255, 0.05); border-radius: 8px;">
                                    <div style="font-weight: 700; color: var(--primary);">R50</div>
                                    <div style="color: var(--success);">+R100</div>
                                </div>
                                <div style="text-align: center; padding: 16px; background: rgba(255, 255, 255, 0.05); border-radius: 8px;">
                                    <div style="font-weight: 700; color: var(--primary);">R100</div>
                                    <div style="color: var(--success);">+R200</div>
                                </div>
                                <div style="text-align: center; padding: 16px; background: rgba(255, 255, 255, 0.05); border-radius: 8px;">
                                    <div style="font-weight: 700; color: var(--primary);">R200</div>
                                    <div style="color: var(--success);">+R420</div>
                                </div>
                                <div style="text-align: center; padding: 16px; background: rgba(255, 255, 255, 0.05); border-radius: 8px;">
                                    <div style="font-weight: 700; color: var(--primary);">R300</div>
                                    <div style="color: var(--success);">+R650</div>
                                </div>
                                <div style="text-align: center; padding: 16px; background: rgba(255, 255, 255, 0.05); border-radius: 8px;">
                                    <div style="font-weight: 700; color: var(--primary);">R400</div>
                                    <div style="color: var(--success);">+R900</div>
                                </div>
                                <div style="text-align: center; padding: 16px; background: rgba(255, 255, 255, 0.05); border-radius: 8px;">
                                    <div style="font-weight: 700; color: var(--primary);">R500</div>
                                    <div style="color: var(--success);">+R1100</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="hidden">
            <div style="padding: 80px 0;">
                <div class="container">
                    <div class="glass" style="padding: 48px;">
                        <h2 style="font-size: 2.5rem; font-weight: 800; margin-bottom: 24px; text-align: center;" class="gradient-text">Contact Us</h2>
                        <p style="text-align: center; color: #cbd5e1; margin-bottom: 48px;">Get in touch with our support team for any questions or assistance.</p>
                        
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 32px;">
                            <div style="text-align: center; padding: 32px; background: rgba(255, 255, 255, 0.05); border-radius: 12px;">
                                <i class="fas fa-phone" style="font-size: 3rem; color: var(--primary); margin-bottom: 16px;"></i>
                                <h3 style="font-weight: 700; margin-bottom: 8px;">Phone Support</h3>
                                <p style="color: #cbd5e1; margin-bottom: 16px;">Call us for immediate assistance</p>
                                <p style="font-weight: 600; color: var(--primary);">+27 11 123 4567</p>
                            </div>
                            
                            <div style="text-align: center; padding: 32px; background: rgba(255, 255, 255, 0.05); border-radius: 12px;">
                                <i class="fas fa-envelope" style="font-size: 3rem; color: var(--success); margin-bottom: 16px;"></i>
                                <h3 style="font-weight: 700; margin-bottom: 8px;">Email Support</h3>
                                <p style="color: #cbd5e1; margin-bottom: 16px;">Send us an email anytime</p>
                                <p style="font-weight: 600; color: var(--success);">support@investsa.co.za</p>
                            </div>
                            
                            <div style="text-align: center; padding: 32px; background: rgba(255, 255, 255, 0.05); border-radius: 12px;">
                                <i class="fab fa-whatsapp" style="font-size: 3rem; color: var(--warning); margin-bottom: 16px;"></i>
                                <h3 style="font-weight: 700; margin-bottom: 8px;">WhatsApp</h3>
                                <p style="color: #cbd5e1; margin-bottom: 16px;">Chat with us on WhatsApp</p>
                                <p style="font-weight: 600; color: var(--warning);">+27 82 555 1234</p>
                            </div>
                        </div>
                        
                        <div style="margin-top: 48px; text-align: center;">
                            <h3 style="font-weight: 700; margin-bottom: 16px;">Business Hours</h3>
                            <p style="color: #cbd5e1;">Monday - Friday: 8:00 AM - 6:00 PM (SAST)</p>
                            <p style="color: #cbd5e1;">Saturday: 9:00 AM - 2:00 PM (SAST)</p>
                            <p style="color: #cbd5e1;">Sunday: Closed</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Toast Notification Container -->
    <div id="toastContainer"></div>

    <script>
        // Application State
        let currentUser = null;
        let selectedInvestment = null;
        let userInvestments = [];
        
        // Investment Plans Data
        const investmentPlans = [
            { id: 1, amount: 50, profit: 100, adminFee: 10 },
            { id: 2, amount: 100, profit: 200, adminFee: 10 },
            { id: 3, amount: 200, profit: 420, adminFee: 10 },
            { id: 4, amount: 300, profit: 650, adminFee: 10 },
            { id: 5, amount: 400, profit: 900, adminFee: 10 },
            { id: 6, amount: 500, profit: 1100, adminFee: 10 }
        ];

        // Simulated user data for demo
        const demoUsers = {
            'demo@investsa.co.za': {
                id: 'user_001',
                email: 'demo@investsa.co.za',
                firstName: 'Demo',
                lastName: 'User',
                investments: [
                    {
                        id: 1,
                        planId: 2,
                        amount: 100,
                        profit: 200,
                        adminFee: 10,
                        status: 'pending',
                        startDate: null,
                        endDate: null,
                        createdAt: new Date().toISOString()
                    }
                ]
            }
        };

        // Utility Functions
        function formatCurrency(amount) {
            return amount.toLocaleString();
        }

        function showToast(message, type = 'success') {
            const toast = document.createElement('div');
            toast.className = `toast toast-${type} show`;
            toast.innerHTML = `
                <div style="display: flex; align-items: center; gap: 8px;">
                    <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
                    <span>${message}</span>
                </div>
            `;
            
            document.getElementById('toastContainer').appendChild(toast);
            
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                showToast('Account number copied to clipboard!', 'success');
            }).catch(() => {
                showToast('Failed to copy to clipboard', 'error');
            });
        }

        // Section Management
        function showSection(sectionName) {
            // Hide all sections
            const sections = document.querySelectorAll('main > section');
            sections.forEach(section => section.classList.add('hidden'));
            
            // Show the requested section
            const targetSection = document.getElementById(sectionName);
            if (targetSection) {
                targetSection.classList.remove('hidden');
            }
            
            // Update specific content based on section
            if (sectionName === 'home' && currentUser) {
                populateInvestmentPlans('authPlansTableBody', true);
            } else if (sectionName === 'landing') {
                populateInvestmentPlans('plansTableBody', false);
            } else if (sectionName === 'dashboard' && currentUser) {
                loadDashboard();
            }
        }

        // Authentication Functions
        function handleLogin(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const email = formData.get('email') || event.target.querySelector('input[type="email"]').value;
            const password = formData.get('password') || event.target.querySelector('input[type="password"]').value;
            
            // Demo login - in real app, this would validate against server
            if (email === 'demo@investsa.co.za' && password === 'demo123') {
                currentUser = demoUsers[email];
                userInvestments = currentUser.investments || [];
                
                // Update UI for authenticated state
                updateAuthState();
                showToast('Welcome back! Successfully signed in.', 'success');
                showSection('home');
            } else {
                showToast('Invalid credentials. Try demo@investsa.co.za / demo123', 'error');
            }
        }

        function logout() {
            currentUser = null;
            userInvestments = [];
            selectedInvestment = null;
            
            // Update UI for non-authenticated state
            updateAuthState();
            showToast('Successfully signed out', 'success');
            showSection('landing');
        }

        function updateAuthState() {
            const authElements = document.querySelectorAll('.auth-required');
            const noAuthElements = document.querySelectorAll('.no-auth');
            
            if (currentUser) {
                authElements.forEach(el => {
                    el.style.display = el.classList.contains('hidden') ? 'none' : 'block';
                    el.classList.remove('hide');
                    el.classList.add('show');
                });
                noAuthElements.forEach(el => {
                    el.style.display = 'none';
                    el.classList.add('hide');
                    el.classList.remove('show');
                });
                
                // Update username display
                const usernameEl = document.getElementById('username');
                if (usernameEl) {
                    usernameEl.textContent = currentUser.firstName || currentUser.email.split('@')[0];
                }
            } else {
                authElements.forEach(el => {
                    el.style.display = 'none';
                    el.classList.add('hide');
                    el.classList.remove('show');
                });
                noAuthElements.forEach(el => {
                    el.style.display = 'block';
                    el.classList.remove('hide');
                    el.classList.add('show');
                });
            }
        }

        function showRegisterForm() {
            showToast('For demo purposes, use: demo@investsa.co.za / demo123', 'info');
        }

        // Investment Functions
        function populateInvestmentPlans(tableBodyId, isAuthenticated) {
            const tbody = document.getElementById(tableBodyId);
            if (!tbody) return;
            
            tbody.innerHTML = '';
            
            investmentPlans.forEach((plan, index) => {
                const totalPayment = plan.amount + plan.adminFee;
                const isHighlighted = index === 1; // Highlight second plan
                
                const row = document.createElement('tr');
                if (isHighlighted) {
                    row.style.background = 'rgba(59, 130, 246, 0.1)';
                    row.style.border = '1px solid rgba(59, 130, 246, 0.3)';
                }
                
                row.innerHTML = `
                    <td>
                        <div class="amount">R${formatCurrency(plan.amount)}</div>
                    </td>
                    <td>
                        <div class="profit">R${formatCurrency(plan.profit)}</div>
                    </td>
                    <td>
                        <div class="admin-fee">R${plan.adminFee}</div>
                    </td>
                    <td>
                        <div class="total-payment">R${formatCurrency(totalPayment)}</div>
                    </td>
                    <td style="text-align: center;">
                        <button class="btn gradient-bg" onclick="${isAuthenticated ? `selectInvestment(${plan.id})` : `showSection('login')`}">
                            ${isAuthenticated ? 'INVEST' : 'SIGN UP TO INVEST'}
                        </button>
                    </td>
                `;
                
                tbody.appendChild(row);
            });
        }

        function selectInvestment(planId) {
            if (!currentUser) {
                showSection('login');
                return;
            }
            
            const plan = investmentPlans.find(p => p.id === planId);
            if (!plan) return;
            
            // Create investment record
            const investment = {
                id: Date.now(), // Simple ID generation for demo
                userId: currentUser.id,
                planId: plan.id,
                amount: plan.amount,
                profit: plan.profit,
                adminFee: plan.adminFee,
                status: 'pending',
                startDate: null,
                endDate: null,
                createdAt: new Date().toISOString()
            };
            
            selectedInvestment = investment;
            
            // Update payment form
            updatePaymentForm(investment);
            
            showSection('payment');
            showToast('Investment plan selected. Complete payment details.', 'info');
        }

        function updatePaymentForm(investment) {
            const totalPayment = investment.amount + investment.adminFee;
            
            // Update investment details
            document.getElementById('investmentAmount').textContent = formatCurrency(investment.amount);
            document.getElementById('investmentProfit').textContent = formatCurrency(investment.profit);
            document.getElementById('investmentAdminFee').textContent = investment.adminFee;
            document.getElementById('totalPayment').textContent = formatCurrency(totalPayment);
            document.getElementById('totalPaymentInstruction').textContent = formatCurrency(totalPayment);
            document.getElementById('transferAmount').textContent = formatCurrency(totalPayment);
            document.getElementById('stepAmount').textContent = formatCurrency(totalPayment);
        }

        function handlePayment(event) {
            event.preventDefault();
            
            if (!selectedInvestment) {
                showToast('No investment selected', 'error');
                return;
            }
            
            const formData = new FormData(event.target);
            const fullName = formData.get('fullName') || document.getElementById('fullName').value;
            const email = formData.get('email') || document.getElementById('email').value;
            const phone = formData.get('phone') || document.getElementById('phone').value;
            const terms = document.getElementById('terms').checked;
            
            if (!terms) {
                showToast('Please accept the terms and conditions', 'error');
                return;
            }
            
            // Add investment to user's portfolio
            userInvestments.push(selectedInvestment);
            
            // Store payment details for success page
            const paymentData = {
                fullName,
                email,
                phone,
                investment: selectedInvestment,
                bankDetails: {
                    bankName: 'Standard Bank',
                    accountNumber: '10163419335',
                    reference: fullName
                }
            };
            
            // Update success page
            updateSuccessPage(paymentData);
            
            showSection('success');
            showToast('Payment details submitted successfully!', 'success');
        }

        function updateSuccessPage(paymentData) {
            const investment = paymentData.investment;
            const totalPayment = investment.amount + investment.adminFee;
            
            // Update investment details
            document.getElementById('successInvestmentDetails').innerHTML = `
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; font-size: 0.875rem;">
                    <div>
                        <div style="color: #94a3b8;">Investment Amount</div>
                        <div style="font-weight: 700; font-size: 1.125rem;">R${formatCurrency(investment.amount)}</div>
                    </div>
                    <div style="text-align: right;">
                        <div style="color: #94a3b8;">Expected Profit</div>
                        <div style="font-weight: 700; font-size: 1.125rem; color: var(--success);">R${formatCurrency(investment.profit)}</div>
                    </div>
                    <div>
                        <div style="color: #94a3b8;">Admin Fee</div>
                        <div style="font-weight: 600; color: var(--danger);">R${investment.adminFee}</div>
                    </div>
                    <div style="text-align: right;">
                        <div style="color: #94a3b8;">Total Payment</div>
                        <div style="font-weight: 700; font-size: 1.25rem; color: var(--warning);">R${formatCurrency(totalPayment)}</div>
                    </div>
                </div>
            `;
            
            // Update banking details
            document.getElementById('successBankingDetails').innerHTML = `
                <div style="display: flex; flex-direction: column; gap: 12px;">
                    <div style="display: flex; justify-content: space-between; padding: 12px; background: rgba(255, 255, 255, 0.1); border-radius: 8px;">
                        <span style="color: #94a3b8;">Bank</span>
                        <span style="font-weight: 700;">${paymentData.bankDetails.bankName}</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; padding: 12px; background: rgba(255, 255, 255, 0.1); border-radius: 8px;">
                        <span style="color: #94a3b8;">Account Number</span>
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <span style="font-family: monospace; font-weight: 700;">${paymentData.bankDetails.accountNumber}</span>
                            <button class="copy-btn" onclick="copyToClipboard('${paymentData.bankDetails.accountNumber}')">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                    </div>
                    <div style="display: flex; justify-content: space-between; padding: 12px; background: rgba(255, 255, 255, 0.1); border-radius: 8px;">
                        <span style="color: #94a3b8;">Amount</span>
                        <span style="font-weight: 700; font-size: 1.5rem; color: var(--warning);">R${formatCurrency(totalPayment)}</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; padding: 12px; background: rgba(255, 255, 255, 0.1); border-radius: 8px;">
                        <span style="color: #94a3b8;">Reference</span>
                        <span style="font-weight: 700; color: var(--primary);">${paymentData.bankDetails.reference}</span>
                    </div>
                </div>
            `;
        }

        // Dashboard Functions
        function loadDashboard() {
            if (!currentUser) return;
            
            const pendingInvestments = userInvestments.filter(inv => inv.status === 'pending');
            const confirmedInvestments = userInvestments.filter(inv => inv.status === 'confirmed');
            const completedInvestments = userInvestments.filter(inv => inv.status === 'completed');
            
            const totalInvested = confirmedInvestments.reduce((sum, inv) => sum + inv.amount, 0);
            const totalProfit = completedInvestments.reduce((sum, inv) => sum + inv.profit, 0);
            const totalBalance = totalProfit;
            
            // Update stats
            document.getElementById('totalBalance').textContent = formatCurrency(totalBalance);
            document.getElementById('totalInvested').textContent = formatCurrency(totalInvested);
            document.getElementById('totalProfit').textContent = formatCurrency(totalProfit);
            
            // Update investments list
            const investmentsList = document.getElementById('investmentsList');
            
            if (userInvestments.length === 0) {
                investmentsList.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">
                            <i class="fas fa-chart-pie"></i>
                        </div>
                        <h3 class="empty-title">No Investments Yet</h3>
                        <p class="empty-description">Start your first investment to begin earning profits</p>
                        <button class="btn gradient-bg" onclick="showSection('home')">
                            <i class="fas fa-plus"></i>
                            Start Investing
                        </button>
                    </div>
                `;
            } else {
                investmentsList.innerHTML = userInvestments.map(investment => {
                    const statusClass = `status-${investment.status}`;
                    const statusIcon = investment.status === 'pending' ? 'clock' : 
                                    investment.status === 'confirmed' ? 'check-circle' : 'trophy';
                    const statusText = investment.status === 'pending' ? 'Pending' :
                                    investment.status === 'confirmed' ? 'Active' : 'Completed';
                    
                    return `
                        <div class="investment-card">
                            <div class="investment-info">
                                <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 8px;">
                                    <h4>R${formatCurrency(investment.amount)} Investment</h4>
                                    <span class="status-badge ${statusClass}">
                                        <i class="fas fa-${statusIcon}"></i>
                                        ${statusText}
                                    </span>
                                </div>
                                <div class="investment-date">
                                    Created: ${new Date(investment.createdAt).toLocaleDateString()}
                                    ${investment.startDate ? `<span style="margin-left: 16px;">Started: ${new Date(investment.startDate).toLocaleDateString()}</span>` : ''}
                                </div>
                            </div>
                            
                            <div class="investment-amounts">
                                <div class="investment-amount">R${formatCurrency(investment.amount)}</div>
                                <div class="investment-profit">+R${formatCurrency(investment.profit)} profit</div>
                                <div style="font-size: 0.75rem; color: var(--danger);">R${investment.adminFee} admin fee</div>
                            </div>
                            
                            <div class="investment-status">
                                ${investment.status === 'pending' ? 
                                    '<div style="font-size: 0.875rem; color: var(--warning);">Awaiting payment</div>' :
                                    investment.status === 'confirmed' ?
                                    '<div style="font-size: 0.875rem; color: var(--primary);">Investment active</div>' :
                                    '<div style="font-size: 0.875rem; color: var(--success);">Profit earned</div>'
                                }
                            </div>
                        </div>
                    `;
                }).join('');
            }
            
            // Show/hide pending payment notice
            const pendingNotice = document.getElementById('pendingPaymentNotice');
            if (pendingInvestments.length > 0) {
                pendingNotice.classList.remove('hidden');
            } else {
                pendingNotice.classList.add('hidden');
            }
        }

        // Initialize Application
        function initApp() {
            // Populate landing page investment plans
            populateInvestmentPlans('plansTableBody', false);
            
            // Update auth state
            updateAuthState();
            
            // Show landing page by default
            showSection('landing');
            
            // Add demo data notice
            showToast('Demo Mode: Use demo@investsa.co.za / demo123 to login', 'info');
        }

        // Start the application when page loads
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>